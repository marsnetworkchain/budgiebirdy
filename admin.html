<script>
    // Sayfa yüklendiğinde token kontrolü
    window.addEventListener('load', async () => {
        const token = sessionStorage.getItem('adminToken');
        
        if (!token) {
            window.location.href = '/admin-login.html';
            return;
        }

        try {
            // Token kontrolü
            const response = await fetch('/api/admin/verify', {
                headers: {
                    'Authorization': `Bearer ${token}`
                }
            });

            if (!response.ok) {
                throw new Error('Invalid token');
            }
        } catch (error) {
            console.error('Auth error:', error);
            window.location.href = '/admin-login.html';
        }
    });

    // Diğer script kodları...
</script> 